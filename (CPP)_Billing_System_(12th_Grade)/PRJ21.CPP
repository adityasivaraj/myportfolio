//***********************************************************=0D
//DEMRIS Departmental Store Automated Billing System Project.=0D
//***********************************************************=0D
#include<fstream.h>=0D
#include<process.h>=0D
#include<stdio.h>=0D
#include<conio.h>=0D
//****************=0D
// Class "product"=0D
//****************=0D
class product=0D
{=0D
int pno,s_in,s_bal,s_out,qq;=0D
char name[50];=0D
float price,qty,tax,dis;=0D
public:=0D
void create_product()=0D
{=0D
cout<<"\nPlease Enter The Product No. of The Product: ";=0D
cin>>pno;=0D
cout<<"\n\nPlease Enter The Name of The Product: ";=0D
gets(name);=0D
cout<<"\nPlease Enter The Price of The Product: ";=0D
cin>>price;=0D
cout<<"\nPlease Enter The Discount (%): ";=0D
cin>>dis;=0D
cout<<"\nPlease Enter The Basic Stock value: ";=0D
cin>>s_in;qq=3Ds_in;s_out=3D0;=0D
}=0D
void s_mod(int a,int b)=0D
{=0D
s_bal=3Da;=0D
s_out+=3Db;=0D
}=0D
void qq_mod(int z)=0D
{qq=3Dz;}=0D
void s_set()=0D
{qq=3Ds_in;}=0D
void show_product()=0D
{=0D
cout<<"\nThe Product No. of The Product : "<<pno;=0D
cout<<"\nThe Name of The Product : ";=0D
puts(name);=0D
cout<<"\nThe Price of The Product : "<<price;=0D
cout<<"\nDiscount : "<<dis;=0D
cout<<"\nBasic Stock : "<<s_in;=0D
cout<<"\nStock Out: "<<s_out;=0D
cout<<"\nRem : "<<s_bal;=0D
}=0D
int retpno()=0D
{return pno;}=0D
float retprice()=0D
{return price;}=0D
char* retname()=0D
{return name;}=0D
int retdis()=0D
{return dis;}=0D
int rets_in()=0D
{return s_in;}=0D
int rets_out()=0D
{return s_out;}=0D
int rets_bal()=0D
{return s_bal;}=0D
int retqq()=0D
{return qq;}=0D
}; //class ends here=0D
=0D
//*************=0D
//class "bill"=0D
//*************=0D
class bill=0D
{=0D
int bno;=0D
public:=0D
void in(int q)=0D
{bno=3Dq;}=0D
int retbno()=0D
{return bno;}=0D
}; //class ends here=0D
=0D
//***************=0D
// Class "dealer"=0D
//***************=0D
class dealer=0D
{=0D
int dno;=0D
char add[90],dname[40],phno[11],mobno[10];=0D
public:=0D
void create_dealer()=0D
{=0D
cout<<"\nPlease Enter The Dealer No.: ";=0D
cin>>dno;=0D
cout<<"\n\nPlease Enter The Name of The Dealer: ";=0D
gets(dname);=0D
cout<<"\nPlease Enter The Address of The Dealer: ";=0D
gets(add);=0D
cout<<"\nPlease Enter The Phone No.: ";=0D
gets(phno);=0D
cout<<"\nPlease Enter The Mobile Number: ";=0D
gets(mobno);=0D
}=0D
void show_dealer()=0D
{=0D
cout<<"\nThe Dealer No.: "<<dno;=0D
cout<<"\nThe Name of The Dealer : ";=0D
puts(dname);=0D
cout<<"\nAddress : "<<add;=0D
cout<<"\nPhone Number: "<<phno;=0D
cout<<"\nMobile Number: "<<mobno;=0D
}=0D
char* retadd()=0D
{return add;}=0D
char* retdname()=0D
{return dname;}=0D
char* retphno()=0D
{return phno;}=0D
char* retmobno()=0D
{return mobno;}=0D
int retdno()=0D
{return dno;}=0D
};//class ends here.=0D
=0D
=0D
//********************************************************************=0D
// global declaration for stream object,product,dealer and bill object=0D
//********************************************************************=0D
fstream fp,fb,fd;=0D
product pr;=0D
bill b1;=0D
dealer dr;=0D
//*********************************=0D
// function to write in Dealer file=0D
//*********************************=0D
void write_dealer()=0D
{=0D
fd.open("Dealer.dat",ios::out|ios::app);=0D
dr.create_dealer();=0D
fd.write((char*)&dr,sizeof(dealer));=0D
fd.close();=0D
cout<<"\n\nThe Dealer Has Been Added ";=0D
getch();=0D
}=0D
//**********************************=0D
// function to write in Product file=0D
//**********************************=0D
void write_product()=0D
{=0D
fp.open("Shop.dat",ios::out|ios::app);=0D
pr.create_product();=0D
fp.write((char*)&pr,sizeof(product));=0D
fp.close();=0D
cout<<"\n\nThe Product Has Been Created ";=0D
getch();=0D
}=0D
//**********************************************=0D
// function to read all records from Dealer file=0D
//**********************************************=0D
void display_all_d()=0D
{=0D
clrscr();=0D
cout<<"\n\n\n\t\tDISPLAY ALL DEALERS !!!\n\n";=0D
fd.open("Dealer.dat",ios::in);=0D
while(fd.read((char*)&dr,sizeof(dr)))=0D
{=0D
dr.show_dealer();=0D
cout<<"\n\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D\n";=0D
getch();=0D
}=0D
fd.close();=0D
getch();=0D
}=0D
//****************************************=0D
// function to read all records from file=0D
//****************************************=0D
void display_all()=0D
{=0D
clrscr();=0D
cout<<"\n\n\n\t\tDISPLAY ALL RECORD !!!\n\n";=0D
fp.open("Shop.dat",ios::in);=0D
while(fp.read((char*)&pr,sizeof(product)))=0D
{=0D
pr.show_product();=0D
cout<<"\n\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D\n";=0D
getch();=0D
}=0D
fp.close();=0D
getch();=0D
}=0D
//********************************************=0D
// function to read specific record from file=0D
//********************************************=0D
void display_sp(int n)=0D
{=0D
int flag=3D0;=0D
fp.open("Shop.dat",ios::in);=0D
while(fp.read((char*)&pr,sizeof(product)))=0D
{=0D
if(pr.retpno()=3D=3Dn)=0D
{=0D
clrscr();=0D
pr.show_product();=0D
flag=3D1;=0D
}=0D
}=0D
fp.close();=0D
if(flag=3D=3D0)=0D
cout<<"\n\nrecord not exist";=0D
getch();=0D
}=0D
//**************************************************=0D
// function to read specific record from Dealer file=0D
//**************************************************=0D
void display_sd(int n)=0D
{=0D
int flag=3D0;=0D
fd.open("Dealer.dat",ios::in);=0D
while(fd.read((char*)&dr,sizeof(dealer)))=0D
{=0D
if(dr.retdno()=3D=3Dn)=0D
{=0D
clrscr();=0D
dr.show_dealer();=0D
flag=3D1;=0D
}=0D
}=0D
fd.close();=0D
if(flag=3D=3D0)=0D
cout<<"\n\nrecord not existing";=0D
getch();=0D
}=0D
//***********************************=0D
// function to modify record of file=0D
//***********************************=0D
void modify_product()=0D
{=0D
int no,found=3D0;=0D
clrscr();=0D
cout<<"\n\n\tTo Modify ";=0D
cout<<"\n\n\tPlease Enter The Product No. of The Product:";=0D
cin>>no;=0D
fp.open("Shop.dat",ios::in|ios::out);=0D
while(fp.read((char*)&pr,sizeof(product)) && found=3D=3D0) ;=0D
{=0D
if(pr.retpno()=3D=3Dno)=0D
{=0D
pr.show_product();=0D
cout<<"\nPlease Enter The New Details of Product"<<endl;=0D
pr.create_product();=0D
int pos=3D(fp.tellp()-sizeof(pr));=0D
fp.seekp(pos,ios::beg);=0D
fp.write((char*)&pr,sizeof(product));=0D
cout<<"\n\n\t Record Updated";=0D
found=3D1;=0D
}=0D
}=0D
fp.close();=0D
if(found=3D=3D0)=0D
cout<<"\n\n Record Not Found ";=0D
getch();=0D
}=0D
//*****************************************=0D
// function to delete record of Dealer file=0D
//*****************************************=0D
void delete_dealer()=0D
{=0D
int no;=0D
clrscr();=0D
cout<<"\n\n\n\tDelete Record";=0D
cout<<"\n\nPlease Enter no. of The Dealer you want to delete: ";=0D
cin>>no;=0D
fd.open("Dealer.dat",ios::in|ios::out);=0D
fstream fd2;=0D
fd2.open("Temp1.dat",ios::out);=0D
fd.seekg(0,ios::beg);=0D
while(fd.read((char*)&dr,sizeof(dealer)))=0D
{=0D
if(dr.retdno()!=3Dno)=0D
{=0D
fd2.write((char*)&dr,sizeof(dealer));=0D
}=0D
}=0D
fd2.close();=0D
fd.close();=0D
remove("Dealer.dat");=0D
rename("Temp1.dat","Dealer.dat");=0D
cout<<"\n\n\tRecord Deleted ..";=0D
getch();=0D
}=0D
//***********************************=0D
// function to delete record of file=0D
//***********************************=0D
void delete_product()=0D
{=0D
int no;=0D
clrscr();=0D
cout<<"\n\n\n\tDelete Record";=0D
cout<<"\n\nPlease Enter The product no. of The Product You Want To Delete: "=
;=0D
cin>>no;=0D
fp.open("Shop.dat",ios::in|ios::out);=0D
fstream fp2;=0D
fp2.open("Temp.dat",ios::out);=0D
fp.seekg(0,ios::beg);=0D
while(fp.read((char*)&pr,sizeof(product)))=0D
{=0D
if(pr.retpno()!=3Dno)=0D
{=0D
fp2.write((char*)&pr,sizeof(product));=0D
}=0D
}=0D
fp2.close();=0D
fp.close();=0D
remove("Shop.dat");=0D
rename("Temp.dat","Shop.dat");=0D
cout<<"\n\n\tRecord Deleted ..";=0D
getch();=0D
}=0D
//*********************************************=0D
// function to display all products price list=0D
//*********************************************=0D
void menu()=0D
{=0D
clrscr();=0D
fp.open("Shop.dat",ios::in);=0D
if(!fp)=0D
{=0D
cout<<"ERROR!!! FILE COULD NOT BE OPEN\n\n\n Go To Admin Menu to create File=
";=0D
cout<<"\n\n\n Program is closing ....";=0D
getch();=0D
exit(0);=0D
}=0D
cout<<"\n\n\t\tProduct MENU\n\n";=0D
cout<<"=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D\n";=0D
cout<<"P.NO.\t\tNAME\tPRICE\tSTOCK ON HANDn";=0D
cout<<"=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D\n";=0D
while(fp.read((char*)&pr,sizeof(product)))=0D
{=0D
cout<<pr.retpno()<<"\t\t"<<pr.retname()<<"\t\t"<<pr.retprice()<<"\t"<<pr.ret=
s_bal()<<endl;=0D
}=0D
fp.close();=0D
}=0D
=0D
//***************************************************************=0D
// function to place order and generating bill for Products=0D
//****************************************************************=0D
void place_order()=0D
{=0D
int p,order_arr[50],quan[50],c=3D0;=0D
long pos;=0D
float amt,damt,total=3D0;=0D
char ch=3D'Y';=0D
menu();=0D
cout<<"\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D";=0D
cout<<"\n PLACE YOUR ORDER";=0D
cout<<"\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D\n";=0D
do{=0D
cout<<"\n\nEnter The Product No. Of The Product : ";=0D
cin>>order_arr[c];=0D
cout<<"\nQuantity in number : ";=0D
cin>>quan[c];=0D
c++;=0D
cout<<"\nDo You Want To Order Another Product ? (y/n)";=0D
cin>>ch;=0D
}while(ch=3D=3D'y' ||ch=3D=3D'Y');=0D
cout<<"\n\nThank You For Placing The Order";=0D
getch();=0D
clrscr();=0D
fb.open("bill.dat",ios::binary|ios::in);=0D
if(!fb)=0D
{=0D
cout<<"File cannot open";=0D
getch();=0D
exit(1);=0D
}=0D
while(!fb.eof())=0D
{=0D
fb.read((char*)&b1,sizeof(bill));=0D
}=0D
p=3Db1.retbno();=0D
p++;=0D
b1.in(p);=0D
fb.close();=0D
=0D
ofstream fb1;=0D
fb1.open("bill.dat",ios::binary||ios::app);=0D
fb1.write((char*)&b1,sizeof(bill));=0D
fb1.close();=0D
=0D
cout<<"\n BILL NUMBER: "<<b1.retbno();=0D
cout<<"\n\n********************************INVOICE**************************=
**\n";=0D
cout<<"\nPr No.\tPr Name  \tQuantity\tPrice \tAmount \tAmount after discount=
\n";=0D
=0D
for(int x=3D0;x<=3Dc;x++)=0D
{=0D
fp.open("Shop.dat",ios::in|ios::out|ios::binary);=0D
fp.read((char*)&pr,sizeof(product));=0D
while(!fp.eof())=0D
{=0D
if(pr.retpno()=3D=3Dorder_arr[x])=0D
{=0D
pr.qq_mod((pr.retqq()-quan[x]));=0D
pr.s_mod(pr.retqq(),quan[x]);=0D
=0D
amt=3Dpr.retprice()*quan[x];=0D
damt=3Damt-(amt*pr.retdis()/100);=0D
cout<<"\n"<<order_arr[x]<<"\t"<<pr.retname()=0D
<<"\t"<<quan[x]<<"\t\t"<<pr.retprice()<<"\t"<<amt<<"\t\t"<<damt;=0D
total+=3Ddamt;=0D
if(pr.rets_bal()<=3D(pr.rets_in()*10/100))=0D
{=0D
clrscr();=0D
int dd;=0D
char dnn[40];=0D
cout<<"\nGetting low on stock, press ENTER to place an order";=0D
getch();=0D
cout<<"\nProduct number: "<<pr.retpno();=0D
cout<<"\nProduct name: "<<pr.retname();=0D
cout<<"\nQuantity: "<<pr.rets_in()-pr.rets_bal();=0D
cout<<"\nDealer No.: ";cin>>dd;=0D
cout<<"\nDealer Name.: ";gets(dnn);=0D
cout<<"\nM.R.P: "<<pr.retprice();=0D
cout<<"\nDealer Price: "<<pr.retprice()*90/100;=0D
cout<<"\nTotal: "<<pr.retprice()*(pr.rets_in()-pr.rets_bal())*90/100;=0D
pr.s_set();=0D
}=0D
}=0D
fp.seekp((fp.tellg()-sizeof(pr)),ios::beg);=0D
fp.write((char*)&pr,sizeof(product));=0D
fp.read((char*)&pr,sizeof(product));=0D
}=0D
fp.close();=0D
}=0D
cout<<"\n\n\t\t\t\t\tTOTAL =3D "<<total;=0D
getch();=0D
}=0D
//*****************************=0D
//function to make stock report=0D
//*****************************=0D
void s_report()=0D
{=0D
clrscr();=0D
fp.open("Shop.dat",ios::in);=0D
if(!fp)=0D
{=0D
cout<<"ERROR!!! FILE COULD NOT BE OPEN\n\n\n Go To Admin Menu to create File=
";=0D
cout<<"\n\n\n Program is closing ....";=0D
getch();=0D
exit(0);=0D
}=0D
cout<<"\n\n\t\tStock Report\n\n";=0D
cout<<"=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D\n";=0D
cout<<"P.NO.\t\tNAME\t\tPRICE\tStock In\tStock Out\tBalance\n";=0D
cout<<"=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D\n";=0D
while(fp.read((char*)&pr,sizeof(product)))=0D
{=0D
cout<<pr.retpno()<<"\t\t"<<pr.retname()<<"\t"<<pr.retprice()<<"\t"<<pr.rets_=
in()<<"\t"<<pr.rets_out()<<"\t"<<pr.rets_bal()<<endl;=0D
}=0D
fp.close();=0D
}=0D
=0D
//**************=0D
// INTRODUCTION=0D
//**************=0D
void intro()=0D
{=0D
clrscr();=0D
gotoxy(31,11);=0D
cout<<"DEMRIS SUPER MARKET";=0D
gotoxy(35,14);=0D
cout<<"BILLING";=0D
gotoxy(35,17);=0D
cout<<"PROJECT";=0D
cout<<"\n\nMADE BY : ABHISHEK SURESH";=0D
cout<<"\n\nSCHOOL : MAHARISHI VIDYA MANDIR SENIOR SECONDARY SCHOOL";=0D
getch();=0D
}=0D
=0D
//****************************=0D
// ADMINSTRATOR MENU FUNCTION=0D
//****************************=0D
void admin_menu()=0D
{=0D
clrscr();=0D
char ch2;=0D
cout<<"\n\n\n\tADMIN MENU";=0D
cout<<"\n\n\t1.CREATE PRODUCT";=0D
cout<<"\n\n\t2.DISPLAY ALL PRODUCTS";=0D
cout<<"\n\n\t3.QUERY ";=0D
cout<<"\n\n\t4.MODIFY PRODUCT";=0D
cout<<"\n\n\t5.DELETE PRODUCT";=0D
cout<<"\n\n\t6.VIEW PRODUCT MENU";=0D
cout<<"\n\n\t7.BACK TO MAIN MENU";=0D
cout<<"\n\n\tPlease Enter Your Choice (1-7) ";=0D
cin>>ch2;=0D
switch(ch2)=0D
{=0D
case '1': clrscr();=0D
write_product();=0D
break;=0D
case '2': display_all();break;=0D
case '3':=0D
int num;=0D
clrscr();=0D
cout<<"\n\n\tPlease Enter The Product No. ";=0D
cin>>num;=0D
display_sp(num);=0D
break;=0D
case '4': modify_product();break;=0D
case '5': delete_product();break;=0D
case '6': menu();=0D
getch();=0D
case '7': break;=0D
default:cout<<"\a";admin_menu();=0D
}=0D
}=0D
=0D
//***************************=0D
// DEALER ADMIN MENU FUNCTION=0D
//***************************=0D
void deal_menu()=0D
{=0D
clrscr();=0D
char ch5;=0D
cout<<"\n\n\n\tDEALER ADMIN MENU";=0D
cout<<"\n\n\t1.ADD DEALER";=0D
cout<<"\n\n\t2.DISPLAY ALL DEALER INFO";=0D
cout<<"\n\n\t3.QUERY FOR DEALER";=0D
cout<<"\n\n\t4.DELETE DEALER INFO";=0D
cout<<"\n\n\t5.BACK TO MAIN MENU";=0D
cout<<"\n\n\tPlease Enter Your Choice (1-5) ";=0D
cin>>ch5;=0D
switch(ch5)=0D
{=0D
case '1': clrscr();=0D
write_dealer();=0D
break;=0D
case '2': display_all_d();break;=0D
case '3':=0D
int num1;=0D
clrscr();=0D
cout<<"\n\n\tPlease Enter The Dealer No. ";=0D
cin>>num1;=0D
display_sd(num1);=0D
break;=0D
case '4': delete_dealer();break;=0D
case '5': break;=0D
default:cout<<"\a";deal_menu();=0D
}=0D
}=0D
=0D
//********=0D
// Main()=0D
//********=0D
void main()=0D
{=0D
char ch;=0D
intro();=0D
do=0D
{=0D
clrscr();=0D
cout<<"\n\n\n\tMAIN MENU";=0D
cout<<"\n\n\t1. CUSTOMER";=0D
cout<<"\n\n\t2. ADMINISTRATOR";=0D
cout<<"\n\n\t3. STOCK REPORT";=0D
cout<<"\n\n\t4. DEALER ADMIN";=0D
cout<<"\n\n\t5. EXIT";=0D
cout<<"\n\n\tPlease Select Your Option (1-3) ";=0D
cin>>ch;=0D
switch(ch)=0D
{=0D
case '1': clrscr();=0D
place_order();=0D
getch();=0D
break;=0D
case '2': admin_menu();=0D
break;=0D
case '3': s_report();getch();=0D
break;=0D
case '4': deal_menu();=0D
break;=0D
case '5':exit(1);=0D
default :cout<<"Wrong choice"<<"\a";=0D
}=0D
}while(ch!=3D'5');=0D
}=0D
// The end.=0D
